var TickerCount=0,Ticker=function(a,b,c,d,e,f){var c=void 0===c?500:c,a=a,b=b,g=[],h=TickerCount;TickerCount++;var i;if("function"==typeof d)i=d;else switch(d){case"linear":i=function(a,b,c){return a};break;case"easeInOutQuad":i=function(a,b,c){return c/2>b?2*Math.pow(a,2):-2*Math.pow(a-1,2)+1};break;case"easeInOutSine":i=function(a,b,c){return-.5*Math.cos(10*a/Math.PI)+.5};break;default:i=function(a,b,c){return c/2>b?2*Math.pow(a,2):-2*Math.pow(a-1,2)+1}}return this.initialize=function(c){function d(a){return a==b.length-1?b[0]:b[Number(a)+1]}var i,j,k,m,n,e=document.getElementById(a),f=e;for(g=e.textContent.split("");e.lastChild;)e.removeChild(e.lastChild);for(var o in b)m="stock_ticker_"+o+"_"+h,n=document.head.appendChild(document.createElement("style")),n.type="text/css",n.innerHTML="."+m+":before {  content: '"+d(o)+"';position: absolute; top: 0em; left: 0em}";k=document.createElement("TICKER_MASK"),f.appendChild(k),f=k;for(var p in g)j=document.createElement("TICKER"),i=document.createTextNode(g[p]),j.appendChild(i),j.className="stock_ticker_"+b.indexOf(g[p])+"_"+h,j.id="stock_ticker_id_"+p+"_"+h,f.appendChild(j);"function"==typeof c&&c()},this.terminate=function(b){for(var c=document.getElementById(a);c.lastChild;)c.removeChild(c.lastChild);c.textContent=g.join("")},this.update=function(a,d){function e(a,e){function f(){var a=new Date,j=a.getTime()-m.getTime();if(j>=c){var k=Number(g+e);l.className="stock_ticker_"+k+"_"+h,l.childNodes[0].nodeValue=b[k],l.style.bottom="0em","function"==typeof d&&d()}else{var n=j/c,o=i(n,j,c),k=Math.floor(g+o*e);l.className="stock_ticker_"+k+"_"+h,l.style.bottom=k-g-o*e+"em",l.childNodes[0].nodeValue=b[k],requestAnimationFrame(f)}}var g;for(var k in b)if(b[k]==a){g=Number(k);break}var l=document.getElementById("stock_ticker_id_"+j+"_"+h),m=new Date;requestAnimationFrame(f)}if(a.length!==g.length)return void console.log(a.length,g.length);var f=a.split("");for(var j in f){var l=(document.getElementById("stock_ticker_id_"+j+"_"+h).textContent,b.indexOf(f[j])-b.indexOf(g[j]));0!==l&&e(g[j],l)}g=a.split("")},(e||void 0===e)&&this.initialize(f),this};
