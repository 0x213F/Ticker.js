var TickerCount=0,Ticker=function(a,b,c,d){var c=void 0===c?500:c,a=a,b=b,e=[],f=TickerCount;return TickerCount++,this.initialize=function(){function c(a){return a==b.length-1?b[0]:b[Number(a)+1]}var h,i,j,l,m,d=document.getElementById(a),g=d;for(e=d.textContent.split("");d.lastChild;)d.removeChild(d.lastChild);for(var n in b)l="stock_ticker_"+n+"_"+f,m=document.head.appendChild(document.createElement("style")),m.type="text/css",m.innerHTML="."+l+":before {  content: '"+c(n)+"';position: absolute; top: 0em; left: 0em}";j=document.createElement("TICKER_MASK"),g.appendChild(j),g=j;for(var o in e)i=document.createElement("TICKER"),h=document.createTextNode(e[o]),i.appendChild(h),i.className="stock_ticker_"+b.indexOf(e[o])+"_"+f,i.id="stock_ticker_id_"+o+"_"+f,g.appendChild(i)},this.terminate=function(b){for(var c=document.getElementById(a);c.lastChild;)c.removeChild(c.lastChild);c.textContent=e.join("")},this.update=function(a){function d(a,d){function e(){var a=new Date,h=a.getTime()-k.getTime();if(h>=c){var i=Number(g+d);j.className="stock_ticker_"+i+"_"+f,j.childNodes[0].nodeValue=b[i],j.style.bottom="0em"}else{var l=h/c,m=c/2>h?2*Math.pow(l,2):-2*Math.pow(l-1,2)+1,i=Math.floor(g+m*d);j.className="stock_ticker_"+i+"_"+f,j.style.bottom=i-g-m*d+"em",j.childNodes[0].nodeValue=b[i],requestAnimationFrame(e)}}var g;for(var i in b)if(b[i]==a){g=Number(i);break}var j=document.getElementById("stock_ticker_id_"+h+"_"+f),k=new Date;requestAnimationFrame(e)}if(a.length!==e.length)return void console.log(a.length,e.length);var g=a.split("");for(var h in g){var j=(document.getElementById("stock_ticker_id_"+h+"_"+f).textContent,b.indexOf(g[h])-b.indexOf(e[h]));0!==j&&d(e[h],j)}e=a.split("")},(d||void 0===d)&&this.initialize(),this};
